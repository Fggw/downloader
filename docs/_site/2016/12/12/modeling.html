<!DOCTYPE html>
<html lang="en-us">
  
  <head>
  <meta charset="UTF-8">
  <title>Optimizing Food Inspections in Chicago</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="theme-color" content="#157878">
  <link rel="stylesheet" href="/foodinspections/css/normalize.css">
  <link href='https://fonts.googleapis.com/css?family=Open+Sans:400,700' rel='stylesheet' type='text/css'>
  <link rel="stylesheet" href="/foodinspections/css/cayman.css">

    <script type="text/javascript" async
      src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-MML-AM_CHTML">
    </script>

</head>

  <body>
    <section class="page-header">
  <h1 class="project-name">Optimizing Food Inspections in Chicago</h1>
  <h2 class="project-tagline">A Final Project for CS109a at Harvard University</h2>
  <a href="http://github.com/fggw/foodinspections/" class="btn">View on GitHub</a>
</section>

    <section class="main-content">
      
      






<center> <a href="/foodinspections/2016/12/12/data-exploration.html"> &#8592; Data Exploration</a> | <a href="/foodinspections/2016/12/12/results.html">Model Selection and Results &#8594;</a> </center>



<h1>Modeling</h1>

<p>After developing some intuition with exploratory
analysis, we moved on to the modeling process.</p>

<h3 id="baseline">Baseline</h3>

<p>At first, it seemed that building a model that could take in the attributes of an establishment and 
predict whether or not it would fail was the optimal goal. However, given the nature 
of the problem we are trying to solve, 
prediction wasn’t the best objective to consider.</p>

<p>We aim to reduce the amount of time until a failed establishment is discovered. 
As a result, we decided to build ranking models so that inspectors could in practice
inspect from highest to lowest probability of failure.</p>

<p>We used log loss to select best performing 
models.</p>

<script type="math/tex; mode=display">l(p) = -\frac{1}{n} \sum y_i \log(p_i) - (1-y_i)\log(1 - p_i)</script>

<p>This choice was appropriate because log loss 
penalizes a probability’s distance from truth, rather than
a prediction’s distance from truth. For example,log loss strongly 
penalizes a case in which a model gave an establishment a 
high probability of passing an inspection when it actually 
ends up failing.</p>

<p>Since this was more nuanced than a problem of prediction, an appropriate scoring approach (e.g. log loss) was more important than selecting a single optimal model. We considered several classes of classifiers - logistic regression, linear and quadratic discriminant analysis, bagging approaches like random forests, boosting approaches like AdaBoost, and so on. To select a single ‘best’ model per class, we ran 5-fold cross-validation to search exhaustively over and score by log loss a range of reasonable sets of hyper-parameters, ultimately arriving at a best model per model class.</p>

<p>While we use a different metric (which we will introduce on the next page)
to evaluate the optimization performance of the system in practice, we didn’t feel that
this metric was reliable in cross-validation because all of the inspections occured
on fixed dates, so we couldn’t treat the model as making recommendations about
when they should occur.</p>



<br>


<center> <a href="/foodinspections/2016/12/12/data-exploration.html"> &#8592; Data Exploration</a> | <a href="/foodinspections/2016/12/12/results.html">Model Selection and Results &#8594;</a> </center>






      <footer class="site-footer">
  <span class="site-footer-owner"><a href="http://localhost:4000/foodinspections/">Optimizing Food Inspections in Chicago</a> was created for CS109a by: 
    <ul> 
    
        <li><a href="http://no.website">Luke Farewell</a></li>
    
        <li><a href="http://no.website">Jake Gober</a></li>
    
        <li><a href="http://sa.muel.green">Samuel Green</a></li>
    
        <li><a href="http://no.website">Jeremy Welborn</a></li>
    
    </ul>

  <span class="site-footer-owner">We were advised by <a href="https://github.com/tnames">Taylor Names.
</footer>


    </section>

  </body>
</html>
